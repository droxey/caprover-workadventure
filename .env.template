# ===========================================
# WorkAdventure + LiveKit Environment Config
# ===========================================
# SECURITY: chmod 600 .env after editing!

# -------------------------------------------
# REQUIRED - Generate before deployment
# -------------------------------------------

# Your domain (e.g., example.com)
DOMAIN=example.com

# Your server's PUBLIC IP address (REQUIRED for WebRTC)
# Get it with: curl -4 ifconfig.me
PUBLIC_IP=

# WorkAdventure version (v1.27.2+ fixes audio device bugs)
VERSION=v1.27.2

# LiveKit version
LIVEKIT_VERSION=v1.8.0

# Secret key for JWT signing (REQUIRED)
# Generate: openssl rand -hex 32
SECRET_KEY=

# LiveKit API credentials (REQUIRED)
# Generate key: openssl rand -hex 12
# Generate secret: openssl rand -base64 32
LIVEKIT_API_KEY=
LIVEKIT_API_SECRET=

# LiveKit WebSocket URL (REQUIRED - must use wss://)
LIVEKIT_URL=wss://livekit.example.com

# Ejabberd (XMPP chat) password (REQUIRED)
# Generate: openssl rand -base64 24
EJABBERD_PASSWORD=

# Redis password (REQUIRED)
# Generate: openssl rand -base64 24
REDIS_PASSWORD=

# Map storage credentials (REQUIRED)
MAP_STORAGE_USER=admin
# Generate: openssl rand -base64 16
MAP_STORAGE_PASSWORD=

# Email for Let's Encrypt certificates (REQUIRED)
ACME_EMAIL=admin@example.com

# -------------------------------------------
# OPTIONAL - Defaults provided
# -------------------------------------------

# Maximum users per room (default: 50)
MAX_USERS_PER_ROOM=50

# Enable anonymous access (default: true)
# Set to false to require authentication
ENABLE_ANONYMOUS=true

# -------------------------------------------
# OIDC Configuration (Optional)
# -------------------------------------------
# Uncomment and configure for SSO

# ENABLE_OPENID=true
# OPENID_CLIENT=workadventure
# OPENID_SECRET=your-oidc-secret
# OPENID_ISSUER=https://auth.example.com/realms/your-realm
# OPENID_REDIRECT_URI=https://play.example.com/login/callback
# OPENID_SCOPE=openid email profile

# -------------------------------------------
# Advanced Configuration
# -------------------------------------------

# Debug mode (DO NOT enable in production)
# DEBUG_MODE=false

# Prometheus metrics (optional)
# PROMETHEUS_AUTHORIZATION_TOKEN=

# AWS S3 for map storage (optional)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_BUCKET=
# AWS_REGION=
# AWS_URL=
